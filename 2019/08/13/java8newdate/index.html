<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>Java8新的时间和日期API | 码魂</title>
    <meta property="og:title" content="Java8新的时间和日期API - 码魂">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2019-08-13T20:09:58&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2019-08-13T20:09:58&#43;08:00'>
        
    <meta name="Keywords" content="[java 时间]">
    <meta name="description" content="Java8新的时间和日期API">
        <meta name="author" content="码魂">
        
    <meta property="og:url" content="http://blog.lazy.icu/2019/08/13/java8newdate/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
        <link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://blog.lazy.icu">
                        码魂
                    </a>
                
                <p class="description">专注于Java、移动互联网、移动支付、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="http://blog.lazy.icu">首页</a>
                    
                    <a  href="http://blog.lazy.icu/books/" title="读书">读书</a>
                    
                    <a  href="http://blog.lazy.icu/archives/" title="归档">归档</a>
                    
                    <a  href="http://blog.lazy.icu/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Java8新的时间和日期API</h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月13日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='/categories/java'>java</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>Java 8的日期和时间类包含 LocalDate、LocalTime、Instant、Duration 以及 Period，这些类都包含在 java.time 包中，Java 8 新的时间API的使用方式，包括创建、格式化、解析、计算、修改，下面我们看下如何去使用。</p>
<h2 id="localdate-只会获取年月日">LocalDate 只会获取年月日</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// 创建 LocalDate
</span><span style="color:#998;font-style:italic">// 获取当前年月日
</span><span style="color:#998;font-style:italic"></span>LocalDate localDate <span style="color:#000;font-weight:bold">=</span> LocalDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">now</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// 构造指定的年月日
</span><span style="color:#998;font-style:italic"></span>LocalDate localDate1 <span style="color:#000;font-weight:bold">=</span> LocalDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>2019<span style="color:#000;font-weight:bold">,</span> 9<span style="color:#000;font-weight:bold">,</span> 12<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 获取年、月、日、星期几
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> year <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getYear</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> year1 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">YEAR</span><span style="color:#000;font-weight:bold">);</span>
Month month <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMonth</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> month1 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">MONTH_OF_YEAR</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#458;font-weight:bold">int</span> day <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getDayOfMonth</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> day1 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DAY_OF_MONTH</span><span style="color:#000;font-weight:bold">);</span>
DayOfWeek dayOfWeek <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getDayOfWeek</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> dayOfWeek1 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DAY_OF_WEEK</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="localtime-只会获取时分秒">LocalTime 只会获取时分秒</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// 创建 LocalTime
</span><span style="color:#998;font-style:italic"></span>LocalTime localTime <span style="color:#000;font-weight:bold">=</span> LocalTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>14<span style="color:#000;font-weight:bold">,</span> 14<span style="color:#000;font-weight:bold">,</span> 14<span style="color:#000;font-weight:bold">);</span>
LocalTime localTime1 <span style="color:#000;font-weight:bold">=</span> LocalTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">now</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// 获取小时
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> hour <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHour</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> hour1 <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">HOUR_OF_DAY</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 获取分
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> minute <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMinute</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> minute1 <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">MINUTE_OF_HOUR</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 获取秒
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> second <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMinute</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#458;font-weight:bold">int</span> second1 <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">SECOND_OF_MINUTE</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="localdatetime-获取年月日时分秒相当于-localdate--localtime">LocalDateTime 获取年月日时分秒，相当于 LocalDate + LocalTime</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// 创建 LocalDateTime
</span><span style="color:#998;font-style:italic"></span>LocalDateTime localDateTime <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">now</span><span style="color:#000;font-weight:bold">();</span>
LocalDateTime localDateTime1 <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>2019<span style="color:#000;font-weight:bold">,</span> Month<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">SEPTEMBER</span><span style="color:#000;font-weight:bold">,</span> 10<span style="color:#000;font-weight:bold">,</span> 14<span style="color:#000;font-weight:bold">,</span> 46<span style="color:#000;font-weight:bold">,</span> 56<span style="color:#000;font-weight:bold">);</span>
LocalDateTime localDateTime2 <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>localDate<span style="color:#000;font-weight:bold">,</span> localTime<span style="color:#000;font-weight:bold">);</span>
LocalDateTime localDateTime3 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">atTime</span><span style="color:#000;font-weight:bold">(</span>localTime<span style="color:#000;font-weight:bold">);</span>
LocalDateTime localDateTime4 <span style="color:#000;font-weight:bold">=</span> localTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">atDate</span><span style="color:#000;font-weight:bold">(</span>localDate<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 获取LocalDate
</span><span style="color:#998;font-style:italic"></span>LocalDate localDate2 <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toLocalDate</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// 获取LocalTime
</span><span style="color:#998;font-style:italic"></span>LocalTime localTime2 <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toLocalTime</span><span style="color:#000;font-weight:bold">();</span>
</code></pre></td></tr></table>
</div>
</div><p>Instant 获取秒数，用于表示一个时间戳（精确到纳秒）</p>
<p>如果只是为了获取秒数或者毫秒数，可以使用</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">currentTimeMillis</span><span style="color:#000;font-weight:bold">()</span><span style="color:#a61717;background-color:#e3d2d2">。</span>

<span style="color:#998;font-style:italic">// 创建Instant对象
</span><span style="color:#998;font-style:italic"></span>Instant instant <span style="color:#000;font-weight:bold">=</span> Instant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">now</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// 获取秒数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> currentSecond <span style="color:#000;font-weight:bold">=</span> instant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getEpochSecond</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// 获取毫秒数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> currentMilli <span style="color:#000;font-weight:bold">=</span> instant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toEpochMilli</span><span style="color:#000;font-weight:bold">();</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="duration-表示一个时间段">Duration 表示一个时间段</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// Duration.between()方法创建 Duration 对象
</span><span style="color:#998;font-style:italic"></span>LocalDateTime from <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>2017<span style="color:#000;font-weight:bold">,</span> Month<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">JANUARY</span><span style="color:#000;font-weight:bold">,</span> 1<span style="color:#000;font-weight:bold">,</span> 00<span style="color:#000;font-weight:bold">,</span> 0<span style="color:#000;font-weight:bold">,</span> 0<span style="color:#000;font-weight:bold">);</span>    <span style="color:#998;font-style:italic">// 2017-01-01 00:00:00
</span><span style="color:#998;font-style:italic"></span>LocalDateTime to <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>2019<span style="color:#000;font-weight:bold">,</span> Month<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">SEPTEMBER</span><span style="color:#000;font-weight:bold">,</span> 12<span style="color:#000;font-weight:bold">,</span> 14<span style="color:#000;font-weight:bold">,</span> 28<span style="color:#000;font-weight:bold">,</span> 0<span style="color:#000;font-weight:bold">);</span>     <span style="color:#998;font-style:italic">// 2019-09-15 14:28:00
</span><span style="color:#998;font-style:italic"></span>Duration duration <span style="color:#000;font-weight:bold">=</span> Duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">between</span><span style="color:#000;font-weight:bold">(</span>from<span style="color:#000;font-weight:bold">,</span> to<span style="color:#000;font-weight:bold">);</span>     <span style="color:#998;font-style:italic">// 表示从 from 到 to 这段时间
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> days <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toDays</span><span style="color:#000;font-weight:bold">();</span>              <span style="color:#998;font-style:italic">// 这段时间的总天数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> hours <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toHours</span><span style="color:#000;font-weight:bold">();</span>            <span style="color:#998;font-style:italic">// 这段时间的小时数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> minutes <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toMinutes</span><span style="color:#000;font-weight:bold">();</span>        <span style="color:#998;font-style:italic">// 这段时间的分钟数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> seconds <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSeconds</span><span style="color:#000;font-weight:bold">();</span>       <span style="color:#998;font-style:italic">// 这段时间的秒数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> milliSeconds <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toMillis</span><span style="color:#000;font-weight:bold">();</span>    <span style="color:#998;font-style:italic">// 这段时间的毫秒数
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> nanoSeconds <span style="color:#000;font-weight:bold">=</span> duration<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toNanos</span><span style="color:#000;font-weight:bold">();</span>      <span style="color:#998;font-style:italic">// 这段时间的纳秒数
</span></code></pre></td></tr></table>
</div>
</div><p>修改 LocalDate、LocalTime、LocalDateTime、Instant。</p>
<p>LocalDate、LocalTime、LocalDateTime、Instant 为不可变对象，修改这些对象对象会返回一个副本。</p>
<p>增加、减少年数、月数、天数等，以LocalDateTime为例:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">LocalDateTime localDateTime <span style="color:#000;font-weight:bold">=</span> LocalDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">of</span><span style="color:#000;font-weight:bold">(</span>2019<span style="color:#000;font-weight:bold">,</span> Month<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">SEPTEMBER</span><span style="color:#000;font-weight:bold">,</span> 12<span style="color:#000;font-weight:bold">,</span> 14<span style="color:#000;font-weight:bold">,</span> 32<span style="color:#000;font-weight:bold">,</span> 0<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 增加一年
</span><span style="color:#998;font-style:italic"></span>localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">plusYears</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">);</span>
localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">plus</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> ChronoUnit<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">YEARS</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 减少一个月
</span><span style="color:#998;font-style:italic"></span>localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">minusMonths</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">);</span>
localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">minus</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> ChronoUnit<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">MONTHS</span><span style="color:#000;font-weight:bold">);</span>  
<span style="color:#998;font-style:italic">// 通过with修改某些值
</span><span style="color:#998;font-style:italic">// 修改年为2020
</span><span style="color:#998;font-style:italic"></span>localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">withYear</span><span style="color:#000;font-weight:bold">(</span>2020<span style="color:#000;font-weight:bold">);</span>
localDateTime <span style="color:#000;font-weight:bold">=</span> localDateTime<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">with</span><span style="color:#000;font-weight:bold">(</span>ChronoField<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">YEAR</span><span style="color:#000;font-weight:bold">,</span> 2020<span style="color:#000;font-weight:bold">);</span>
<span style="color:#998;font-style:italic">// 时间计算
</span><span style="color:#998;font-style:italic">// 获取该年的第一天
</span><span style="color:#998;font-style:italic"></span>LocalDate localDate <span style="color:#000;font-weight:bold">=</span> LocalDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">now</span><span style="color:#000;font-weight:bold">();</span>
LocalDate localDate1 <span style="color:#000;font-weight:bold">=</span> localDate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">with</span><span style="color:#000;font-weight:bold">(</span>firstDayOfYear<span style="color:#000;font-weight:bold">());</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="temporaladjusters-包含许多静态方法可以直接调用以下列举一些">TemporalAdjusters 包含许多静态方法，可以直接调用，以下列举一些：</h2>
<table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dayOfWeekInMonth</td>
<td>返回同一个月中每周的第几天</td>
</tr>
<tr>
<td>firstDayOfMonth</td>
<td>返回当月的第一天</td>
</tr>
<tr>
<td>firstDayOfNextMonth</td>
<td>返回下月的第一天</td>
</tr>
<tr>
<td>firstDayOfNextYear</td>
<td>返回下一年的第一天</td>
</tr>
<tr>
<td>firstDayOfYear</td>
<td>返回本年的第一天</td>
</tr>
<tr>
<td>firstInMonth</td>
<td>返回同一个月中第一个星期几</td>
</tr>
<tr>
<td>lastDayOfMonth</td>
<td>返回当月的最后一天</td>
</tr>
<tr>
<td>lastDayOfNextMonth</td>
<td>返回下月的最后一天</td>
</tr>
<tr>
<td>lastDayOfNextYear</td>
<td>返回下一年的最后一天</td>
</tr>
<tr>
<td>lastDayOfYear</td>
<td>返回本年的最后一天</td>
</tr>
<tr>
<td>lastInMonth</td>
<td>返回同一个月中最后一个星期几</td>
</tr>
<tr>
<td>next / previous</td>
<td>返回后一个/前一个给定的星期几</td>
</tr>
<tr>
<td>nextOrSame / previousOrSame</td>
<td>返回后一个/前一个给定的星期几，如果这个值满足条件，直接返回</td>
</tr>
</tbody>
</table>
<h2 id="格式化时间">格式化时间</h2>
<pre><code>LocalDate localDate = LocalDate.of(2019, 9, 12);
String s1 = localDate.format(DateTimeFormatter.BASIC_ISO_DATE);
String s2 = localDate.format(DateTimeFormatter.ISO_LOCAL_DATE);
// 自定义格式化
DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String s3 = localDate.format(dateTimeFormatter);
</code></pre><h2 id="解析时间">解析时间</h2>
<pre><code>LocalDate localDate1 = LocalDate.parse(&quot;20190912&quot;, DateTimeFormatter.BASIC_ISO_DATE);
LocalDate localDate2 = LocalDate.parse(&quot;2019-09-12&quot;, DateTimeFormatter.ISO_LOCAL_DATE);
</code></pre><h2 id="总结">总结</h2>
<p>和 SimpleDateFormat 相比，DateTimeFormatter 是线程安全的。</p>
<p>Instant 的精确度更高，可以精确到纳秒级。</p>
<p>Duration 可以便捷得到时间段内的天数、小时数等。</p>
<p>LocalDateTime 能够快速地获取年、月、日、下一月等。</p>
<p>TemporalAdjusters 类中包含许多常用的静态方法，避免自己编写工具类。</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/2019/05/23/java-check-maven-jar/">java校验maven下载的jar文件</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/java8%E6%97%B6%E9%97%B4'>java8时间</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "pkptzx/blog"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="http://blog.lazy.icu">码魂 By 码魂</a>
        
        | <a rel="nofollow" target="_blank" href="http://www.beian.miit.gov.cn/">计划中...</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='http://blog.lazy.icu/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://blog.lazy.icu">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://blog.lazy.icu/2019/10/17/springboot-bean-before-flyway-migrate/" title="Springboot flyway migrate执行完毕再执行其他数据库操作">Springboot flyway migrate执行完毕再执行其他数据库操作</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2019/08/13/java8newdate/" title="Java8新的时间和日期API">Java8新的时间和日期API</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2019/05/23/java-check-maven-jar/" title="java校验maven下载的jar文件">java校验maven下载的jar文件</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/12/06/docker-set-fix-ip/" title="docker设置固定ip地址">docker设置固定ip地址</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/11/30/" title="Windows远程“要求的函数不受支持”解决办法">Windows远程“要求的函数不受支持”解决办法</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/11/25/" title="小书匠测试">小书匠测试</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/11/23/" title="物联网卡无法上网设置APN">物联网卡无法上网设置APN</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/11/22/" title="LBS基站查询">LBS基站查询</a>
    </li>
    
    <li>
        <a href="http://blog.lazy.icu/2018/11/21/" title="Hugo搭建博客使用travis自动发布">Hugo搭建博客使用travis自动发布</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="http://blog.lazy.icu/categories/docker/">Docker (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/hugo/">hugo (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/java/">java (2)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/springboot/">springboot (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/%E4%BD%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1/">位置服务 (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/%E5%B0%8F%E4%B9%A6%E5%8C%A0/">小书匠 (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/%E7%89%A9%E8%81%94%E7%BD%91/">物联网 (1)</a></li>
    
    <li><a href="http://blog.lazy.icu/categories/%E7%B3%BB%E7%BB%9F/">系统 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="http://blog.lazy.icu/tags/docker/">Docker</a>
    
    <a href="http://blog.lazy.icu/tags/flyway/">flyway</a>
    
    <a href="http://blog.lazy.icu/tags/hugo/">hugo</a>
    
    <a href="http://blog.lazy.icu/tags/java/">java</a>
    
    <a href="http://blog.lazy.icu/tags/java8%E6%97%B6%E9%97%B4/">java8时间</a>
    
    <a href="http://blog.lazy.icu/tags/lbs/">LBS</a>
    
    <a href="http://blog.lazy.icu/tags/maven/">maven</a>
    
    <a href="http://blog.lazy.icu/tags/springboot/">springboot</a>
    
    <a href="http://blog.lazy.icu/tags/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a>
    
    <a href="http://blog.lazy.icu/tags/%E7%B3%BB%E7%BB%9F/">系统</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="http://www.baidu.com" title="百度">百度</a>
        </li>
        
        <li>
            <a target="_blank" href="http://www.oschina.net" title="开源中国">开源中国</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://blog.lazy.icu/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>